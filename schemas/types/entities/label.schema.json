{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://schemas.memogarden.net/entities/label.schema.json",
  "title": "Label (Entity)",
  "description": "Named reference to Items or Entities (user-created organizational structure)",
  "allOf": [
    {
      "$ref": "entity.schema.json"
    },
    {
      "type": "object",
      "properties": {
        "_type": {
          "const": "Label"
        },
        "name": {
          "type": "string",
          "description": "Label text (user-facing)",
          "examples": ["Important", "Work", "Personal", "To Review"]
        },
        "target_uuid": {
          "type": "string",
          "pattern": "^(core|soil)_[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
          "description": "What this label points to (Item or Entity UUID)",
          "examples": ["soil_12345678-1234-1234-1234-123456789abc", "core_12345678-1234-1234-1234-123456789abc"]
        },
        "target_type": {
          "type": "string",
          "enum": ["item", "entity"],
          "description": "Type of the target"
        }
      },
      "required": ["name", "target_uuid", "target_type"]
    }
  ]
}
